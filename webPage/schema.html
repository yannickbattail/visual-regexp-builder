<!DOCTYPE html>
<html>
<head>
<title>Visual RegExp builder</title>
<link rel="stylesheet" type="text/css" href="schema_custom.css" />
<link rel="stylesheet" type="text/css" href="schema_mandatory.css" />
<script type="text/javascript" src="htmlUtil.js"></script>
<script type="text/javascript" src="schema.js"></script>
</head>
<body onclick="closeButtons()">
	<h1>building schema</h1>
	<table id="design">
		<tr>
			<td>At begining of string <input type="checkbox" id="atStart"
				value="1" onchange="refesh()" /> <br />
				<!-- <button onclick="showButtons(event, gel('schema'));"
					class="showButtons">Add element</button> -->
				<div id="schema" class="group">schema</div> At end of string <input
				type="checkbox" id="atEnd" value="1" onchange="refesh()" /> <br />
				<br />Options:
				<ul>
					<li><input type="checkbox" id="optG" value="1"
						onchange="refesh()" />Global match (match several times)</li>
					<li><input type="checkbox" id="optI" value="1"
						onchange="refesh()" />Ignore case</li>
					<li><input type="checkbox" id="optM" value="1"
						onchange="refesh()" />Working over multiple lines</li>
				</ul>
			</td>
			<td>
				<div id="recycledBin" class="group">Recycled bin</div>
			</td>
			<td>
				<div id="pieces" class="group">
					Resources (Drag and drop them in the schema)
					<div id="node-XXX" class="node" ondragstart="drag(event)"
						draggable="true">
						<input type="hidden" id="type-XXX" value="text" /> Text <input
							type="text" id="value-XXX" value="abc" onkeyup="refesh()" />
						<button disabled="disabled"onclick="delMe(event, this.parentNode);"
							class="delButtons">X</button>
					</div>

					<div id="node-XXX" class="node" ondragstart="drag(event)"
						draggable="true">
						<input type="hidden" id="type-XXX" value="quantifier" /> from <input
							type="text" id="value-XXX" value="1" size="2" onkeyup="refesh()" />times
						to <input type="text" id="value2-XXX" value="2" size="2"
							onkeyup="refesh()" />times
						<button disabled="disabled"onclick="delMe(event, this.parentNode);"
							class="delButtons">X</button>
					</div>

					<div id="node-XXX" class="node" ondragstart="drag(event)"
						draggable="true">
						<input type="hidden" id="type-XXX" value="charClass" /> (Not<input
							type="checkbox" id="value2-XXX" value="1" onchange="refesh()" />)
						one of theses char <input type="text" id="value-XXX"
							value="0123456789ABCDEF" onkeyup="refesh()" />
						<button disabled="disabled"onclick="delMe(event, this.parentNode);"
							class="delButtons">X</button>
					</div>

					<div id="node-XXX" class="node" ondragstart="drag(event)"
						draggable="true">
						<input type="hidden" id="type-XXX" value="predefinedClass" />
						(Not<input type="checkbox" id="value2-XXX" value="1"
							onchange="refesh()" />) one char <select id="value-XXX"
							onchange="refesh()">
							<option value="\d">digit</option>
							<option value="\s">whitespace</option>
							<option value="\w">word character</option>
							<option value="\t">tab</option>
							<option value="\n">new line</option>
							<option value="\r">carriage return</option>
							<option value="\f">form feed</option>
							<option value="\b">backspace</option>
							<option value="a-z">alpha lowercase</option>
							<option value="A-Z">alpha uppercase</option>
							<option value="a-zA-Z">alpha upper and lower case</option>
							<option value="a-zA-Z0-9">alphanum</option>
							<option value="a-f0-9">headecimal lowercase</option>
							<option value="A-F0-9">headecimal uppercase</option>
							<option value="a-fA-F0-9">headecimal upper and lower
								case</option>
						</select>
						<button disabled="disabled"onclick="delMe(event, this.parentNode);"
							class="delButtons">X</button>
					</div>

					<div id="node-XXX" class="node" ondragstart="drag(event)"
						draggable="true">
						<input type="hidden" id="type-XXX" value="charRange" /> from char
						<input type="text" id="value-XXX" value="a" size="2"
							onkeyup="refesh()" /> to char <input type="text" id="value2-XXX"
							value="z" size="2" onkeyup="refesh()" />
						<button disabled="disabled"onclick="delMe(event, this.parentNode);"
							class="delButtons">X</button>
					</div>

					<div id="node-XXX" class="node" ondragstart="drag(event)"
						draggable="true">
						<input type="hidden" id="type-XXX" value="or" /> OR
						<button disabled="disabled"onclick="delMe(event, this.parentNode);"
							class="delButtons">X</button>
					</div>

					<div id="node-XXX" class="node" ondragstart="drag(event)"
						draggable="true">
						<input type="hidden" id="type-XXX" value="group" /> Group (not<input
							type="checkbox" id="value-XXX" value="1" onchange="refesh()" />
						capturing
						<button disabled="disabled"onclick="delMe(event, this.parentNode);"
							class="delButtons">X</button>
						<button disabled="disabled"onclick="showButtons(event, gel(\'group-XXX\'));"
							class="showButtons">Add element</button>
						<div id="group-XXX" class="group"></div>
					</div>
				</div>
			</td>
		</tr>
	</table>
	<label>The regexp: <input type="text" id="regexp" value=""
		readonly="readonly" /></label>
	<hr />
	<table>
		<tr>
			<th><label for="test">Test string: </label></th>
			<td><textarea id="test" onkeyup="testRegexp()"></textarea></td>
		</tr>
		<tr>
			<th>
				<!-- <button onclick="testRegexp()">Test</button> -->
			</th>
			<td><div id="errMsg"></div></td>
		</tr>
		<tr>
			<th><label for="result">Result: </label></th>
			<td><textarea id="result"></textarea></td>
		</tr>
	</table>

	<div id="buttons">
		<div id="actionBar">
			Actions
			<div id="close" onclick="closeButtons()" class="button">X</div>
		</div>
		<div id="addText" onclick="addGeneric(addText)" class="button">add
			text</div>
		<div id="addQuantifier" onclick="addGeneric(addQuantifier)"
			class="button">add quantifier</div>
		<div id="addCharRange" onclick="addGeneric(addCharRange)"
			class="button">add char range</div>
		<div id="addCharClass" onclick="addGeneric(addCharClass)"
			class="button">add char class</div>
		<div id="addPredefinedClass" onclick="addGeneric(addPredefinedClass)"
			class="button">add predefined class</div>
		<div id="addOr" onclick="addGeneric(addOr)" class="button">add
			alternative (OR)</div>
		<div id="addGroup" onclick="addGeneric(addGroup)" class="button">add
			group (...)</div>
	</div>
</body>
<script type="text/javascript">
    init();
</script>
</html>
